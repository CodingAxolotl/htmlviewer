<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Code Viewer</title>
    <!-- Use Tailwind CSS for a clean, modern look -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define a CSS variable for the accent color */
        :root {
            --accent-color: #4f46e5;
        }

        /* Basic styling for the body and main container */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            padding: 1rem;
        }

        /* Custom styles for the output iframe */
        #output-frame {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            width: 100%;
            height: 50vh; /* Set a default height for the iframe */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">
    <div class="container mx-auto p-4 md:p-8 bg-white shadow-xl rounded-2xl w-full max-w-4xl">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">HTML Code Viewer</h1>
        
        <div class="mb-6 space-y-4">
            <!-- Input area for the HTML code -->
            <textarea id="code-input" class="w-full p-4 h-40 bg-gray-50 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Paste your HTML code here or upload a file below..."></textarea>
            
            <!-- File upload input for HTML files -->
            <input type="file" id="file-input" accept=".html" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer"/>
        </div>
        
        <!-- Control buttons -->
        <div class="flex justify-center space-x-4 mb-6">
            <button id="show-button" class="flex items-center px-6 py-3 bg-indigo-600 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                <!-- SVG icon for the show button -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play mr-2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                Show HTML
            </button>
            <button id="clear-button" class="flex items-center px-6 py-3 bg-gray-200 text-gray-800 font-semibold rounded-full shadow-lg hover:bg-gray-300 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2">
                <!-- SVG icon for the clear button -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x mr-2"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                Clear
            </button>
        </div>
        
        <h2 class="text-xl font-semibold mb-4 text-gray-700">HTML View:</h2>
        
        <!-- The iframe where the HTML will be displayed -->
        <iframe id="output-frame" title="HTML Output Panel"></iframe>
    </div>

    <!-- Custom confirmation modal -->
    <div id="clear-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-2xl shadow-2xl max-w-sm w-full mx-4">
            <h3 class="text-xl font-bold mb-4 text-gray-800">Confirm Clear</h3>
            <p class="text-gray-600 mb-6">Are you sure you want to clear the input and output?</p>
            <div class="flex justify-end space-x-4">
                <button id="cancel-clear-button" class="px-4 py-2 bg-gray-200 text-gray-800 font-medium rounded-full hover:bg-gray-300 transition-colors">
                    Cancel
                </button>
                <button id="confirm-clear-button" class="px-4 py-2 bg-red-600 text-white font-medium rounded-full hover:bg-red-700 transition-colors">
                    Clear All
                </button>
            </div>
        </div>
    </div>

    <script>
        // Get references to all necessary DOM elements
        const codeInput = document.getElementById('code-input');
        const fileInput = document.getElementById('file-input');
        const showButton = document.getElementById('show-button');
        const clearButton = document.getElementById('clear-button');
        const outputFrame = document.getElementById('output-frame');
        const clearModal = document.getElementById('clear-modal');
        const confirmClearButton = document.getElementById('confirm-clear-button');
        const cancelClearButton = document.getElementById('cancel-clear-button');

        // Function to clear the input, output, and file input
        const clearAll = () => {
            codeInput.value = '';
            fileInput.value = ''; // This line was added to clear the file input
            outputFrame.srcdoc = '';
            clearModal.classList.add('hidden');
        };

        // Add event listener for the 'Show HTML' button
        showButton.addEventListener('click', () => {
            const htmlCode = codeInput.value;
            outputFrame.srcdoc = htmlCode;
        });

        // Event listener for the 'Clear' button to show the modal
        clearButton.addEventListener('click', () => {
            clearModal.classList.remove('hidden');
        });

        // Event listener for the modal's 'Clear All' button
        confirmClearButton.addEventListener('click', clearAll);

        // Event listener for the modal's 'Cancel' button
        cancelClearButton.addEventListener('click', () => {
            clearModal.classList.add('hidden');
        });

        // Add event listener for the file input to handle file uploads
        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (!file) {
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                codeInput.value = e.target.result;
            };
            reader.readAsText(file);
        });
    </script>
</body>
</html>
